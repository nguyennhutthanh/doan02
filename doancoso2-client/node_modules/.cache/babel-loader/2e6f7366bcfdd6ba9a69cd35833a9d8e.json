{"ast":null,"code":"var _jsxFileName = \"D:\\\\DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That\\\\doancoso2-client\\\\src\\\\Components\\\\Checkout\\\\PaypalCheckout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm, Form } from '../../../src/hooks/useForm';\nimport { useSelector } from 'react-redux';\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFValues = {\n  idKhach: 0,\n  hoTen: '',\n  sdt: '',\n  diaChi: '',\n  email: '',\n  ghiChu: '',\n  soLuong: 0,\n  thanhTien: 0,\n  idCheckout: 0,\n  idSanPham: 0,\n  tongHoaDon: 0,\n  tongLuongSanPham: 0,\n  checkoutProduct: [],\n  tinh: '',\n  huyen: ''\n};\n\nconst PaypalCheckout = props => {\n  _s();\n\n  const {\n    addOrEdit,\n    cartTotalAmount\n  } = props;\n  const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"));\n  const dataCarts = useSelector(state => state.cart);\n\n  const handleSubmit = (details, data) => {\n    const formDataCheckout = new FormData();\n    formDataCheckout.append('hoTen', details.purchase_units[0].shipping.name.full_name);\n    formDataCheckout.append('diaChi', details.purchase_units[0].shipping.address.address_line_1 + \" \" + details.purchase_units[0].shipping.address.admin_area_1 + \" \" + details.purchase_units[0].shipping.address.admin_area_2 + \" \" + details.purchase_units[0].shipping.address.country_code + \" \"); // // formDataCheckout.append('ghiChu', values.ghiChu)\n    // // formDataCheckout.append('sdt', values.sdt)\n\n    formDataCheckout.append('email', details.purchase_units[0].payee.email_address); // // formDataCheckout.append('tinh', currentTinh)\n    // // formDataCheckout.append('huyen', currentHuyen)\n\n    if (dataCart != null) {\n      for (const key of Object.keys(dataCart)) {\n        formDataCheckout.append('idSanPham', dataCart[key].id);\n        formDataCheckout.append('soLuong', dataCart[key].cartQuantity);\n        formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]));\n\n        if (dataCart[key].khuyenMaiNavigation.sale > 0) {\n          formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity);\n        } else {\n          formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity);\n        }\n      }\n    } else {\n      formDataCheckout.append('idSanPham', dataCart[0].id);\n      formDataCheckout.append('soLuong', dataCart[0].cartQuantity);\n    }\n\n    formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount]);\n    formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity]);\n    addOrEdit(formDataCheckout);\n  }; // (details, data) => {\n  //     alert(\"Transaction completed by \" + details.payer.name.given_name);\n  //     console.log(\"data\", data)\n  //     console.log(details.purchase_units[0])\n  //     console.log(details)\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '75%',\n      margin: '0 auto'\n    },\n    className: \"tab-pane fade\",\n    id: \"checkoutpaypal\",\n    role: \"tabpanel\",\n    children: /*#__PURE__*/_jsxDEV(PayPalButton, {\n      options: {\n        clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\n        currency: \"CAD\"\n      },\n      amount: cartTotalAmount,\n      onSuccess: (details, data) => handleSubmit(details, data)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PaypalCheckout, \"ddeGvHcgxuiUhb8MhgMLHWoyfLg=\", false, function () {\n  return [useSelector];\n});\n\n_c = PaypalCheckout;\nexport default PaypalCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaypalCheckout\");","map":{"version":3,"sources":["D:/DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That/doancoso2-client/src/Components/Checkout/PaypalCheckout.jsx"],"names":["React","useState","useEffect","useForm","Form","useSelector","PayPalButton","initialFValues","idKhach","hoTen","sdt","diaChi","email","ghiChu","soLuong","thanhTien","idCheckout","idSanPham","tongHoaDon","tongLuongSanPham","checkoutProduct","tinh","huyen","PaypalCheckout","props","addOrEdit","cartTotalAmount","dataCart","JSON","parse","localStorage","getItem","dataCarts","state","cart","handleSubmit","details","data","formDataCheckout","FormData","append","purchase_units","shipping","name","full_name","address","address_line_1","admin_area_1","admin_area_2","country_code","payee","email_address","key","Object","keys","id","cartQuantity","stringify","khuyenMaiNavigation","sale","giaKhuyenMai","giaSP","cartTotalQuantity","width","margin","clientId","currency"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm, Form } from '../../../src/hooks/useForm';\r\nimport { useSelector } from 'react-redux';\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\n\r\nconst initialFValues = {\r\n    idKhach: 0,\r\n    hoTen: '',\r\n    sdt: '',\r\n    diaChi: '',\r\n    email: '',\r\n    ghiChu: '',\r\n    soLuong: 0,\r\n    thanhTien: 0,\r\n    idCheckout: 0,\r\n    idSanPham: 0,\r\n    tongHoaDon: 0,\r\n    tongLuongSanPham: 0,\r\n    checkoutProduct: [],\r\n    tinh: '',\r\n    huyen: '',\r\n}\r\n\r\nconst PaypalCheckout = (props) => {\r\n    const { addOrEdit, cartTotalAmount } = props;\r\n    const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"))\r\n    const dataCarts = useSelector((state) => state.cart)\r\n\r\n    const handleSubmit = (details, data) => {\r\n        const formDataCheckout = new FormData()\r\n        formDataCheckout.append('hoTen', details.purchase_units[0].shipping.name.full_name)\r\n        formDataCheckout.append('diaChi',\r\n            details.purchase_units[0].shipping.address.address_line_1 + \" \"\r\n            + details.purchase_units[0].shipping.address.admin_area_1 + \" \"\r\n            + details.purchase_units[0].shipping.address.admin_area_2 + \" \"\r\n            + details.purchase_units[0].shipping.address.country_code + \" \")\r\n        // // formDataCheckout.append('ghiChu', values.ghiChu)\r\n        // // formDataCheckout.append('sdt', values.sdt)\r\n        formDataCheckout.append('email', details.purchase_units[0].payee.email_address)\r\n\r\n        // // formDataCheckout.append('tinh', currentTinh)\r\n        // // formDataCheckout.append('huyen', currentHuyen)\r\n        if (dataCart != null) {\r\n            for (const key of Object.keys(dataCart)) {\r\n                formDataCheckout.append('idSanPham', dataCart[key].id)\r\n                formDataCheckout.append('soLuong', dataCart[key].cartQuantity)\r\n                formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]))\r\n                if (dataCart[key].khuyenMaiNavigation.sale > 0) {\r\n                    formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity)\r\n                }\r\n                else {\r\n                    formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity)\r\n                }\r\n            }\r\n        } else {\r\n            formDataCheckout.append('idSanPham', dataCart[0].id)\r\n            formDataCheckout.append('soLuong', dataCart[0].cartQuantity)\r\n        }\r\n        formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount])\r\n        formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity])\r\n        addOrEdit(formDataCheckout);\r\n    }\r\n    // (details, data) => {\r\n    //     alert(\"Transaction completed by \" + details.payer.name.given_name);\r\n    //     console.log(\"data\", data)\r\n    //     console.log(details.purchase_units[0])\r\n    //     console.log(details)\r\n    // }\r\n    return (\r\n        <div style={{ width: '75%', margin: '0 auto' }} className=\"tab-pane fade\" id=\"checkoutpaypal\" role=\"tabpanel\">\r\n            <PayPalButton\r\n                options={{\r\n                    clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\r\n                    currency: \"CAD\"\r\n                }}\r\n                amount={cartTotalAmount}\r\n                onSuccess={(details, data) => handleSubmit(details, data)}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaypalCheckout;"]},"metadata":{},"sourceType":"module"}