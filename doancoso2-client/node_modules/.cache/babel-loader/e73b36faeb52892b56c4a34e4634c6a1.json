{"ast":null,"code":"var _jsxFileName = \"D:\\\\DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That\\\\doancoso2-client\\\\src\\\\Components\\\\Checkout\\\\PaypalCheckout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm, Form } from '../../../src/hooks/useForm';\nimport { useSelector } from 'react-redux';\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { formatNumber } from '../../Common/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFValues = {\n  idKhach: 0,\n  hoTen: '',\n  sdt: '',\n  diaChi: '',\n  email: '',\n  ghiChu: '',\n  soLuong: 0,\n  thanhTien: 0,\n  idCheckout: 0,\n  idSanPham: 0,\n  tongHoaDon: 0,\n  tongLuongSanPham: 0,\n  checkoutProduct: [],\n  tinh: '',\n  huyen: ''\n};\n\nconst PaypalCheckout = props => {\n  _s();\n\n  const {\n    addOrEdit,\n    cartTotalAmount\n  } = props;\n  const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"));\n  const dataCarts = useSelector(state => state.cart);\n  const amounts = cartTotalAmount / 22982.50;\n  const amountsPaypal = amounts.toFixed(2);\n  console.log(amountsPaypal);\n\n  const handleSubmit = (details, data) => {\n    const formDataPaypal = new FormData();\n    formDataPaypal.append('hoTen', details.purchase_units[0].shipping.name.full_name);\n    formDataPaypal.append('diaChi', details.purchase_units[0].shipping.address.address_line_1 + \" \" + details.purchase_units[0].shipping.address.admin_area_1 + \" \" + details.purchase_units[0].shipping.address.admin_area_2 + \" \" + details.purchase_units[0].shipping.address.country_code + \" \"); //formDataPaypal.append('sdt', values.sdt)\n\n    formDataPaypal.append('email', details.purchase_units[0].payee.email_address);\n\n    if (dataCart != null) {\n      for (const key of Object.keys(dataCart)) {\n        formDataPaypal.append('idSanPham', dataCart[key].id);\n        formDataPaypal.append('soLuong', dataCart[key].cartQuantity);\n        formDataPaypal.append('checkoutProduct', JSON.stringify(dataCart[key]));\n\n        if (dataCart[key].khuyenMaiNavigation.sale > 0) {\n          formDataPaypal.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity);\n        } else {\n          formDataPaypal.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity);\n        }\n      }\n    } else {\n      formDataPaypal.append('idSanPham', dataCart[0].id);\n      formDataPaypal.append('soLuong', dataCart[0].cartQuantity);\n    }\n\n    formDataPaypal.append('tongHoaDon', [dataCarts.cartTotalAmount]);\n    formDataPaypal.append('tongLuongSanPham', [dataCarts.cartTotalQuantity]);\n    addOrEdit(formDataPaypal);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '80%',\n      margin: '0 auto'\n    },\n    className: \"tab-pane fade\",\n    id: \"checkoutpaypal\",\n    role: \"tabpanel\",\n    children: /*#__PURE__*/_jsxDEV(PayPalButton, {\n      options: {\n        clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\n        currency: \"USD\"\n      },\n      amount: amountsPaypal,\n      onSuccess: (details, data) => handleSubmit(details, data)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PaypalCheckout, \"ddeGvHcgxuiUhb8MhgMLHWoyfLg=\", false, function () {\n  return [useSelector];\n});\n\n_c = PaypalCheckout;\nexport default PaypalCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaypalCheckout\");","map":{"version":3,"sources":["D:/DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That/doancoso2-client/src/Components/Checkout/PaypalCheckout.jsx"],"names":["React","useState","useEffect","useForm","Form","useSelector","PayPalButton","formatNumber","initialFValues","idKhach","hoTen","sdt","diaChi","email","ghiChu","soLuong","thanhTien","idCheckout","idSanPham","tongHoaDon","tongLuongSanPham","checkoutProduct","tinh","huyen","PaypalCheckout","props","addOrEdit","cartTotalAmount","dataCart","JSON","parse","localStorage","getItem","dataCarts","state","cart","amounts","amountsPaypal","toFixed","console","log","handleSubmit","details","data","formDataPaypal","FormData","append","purchase_units","shipping","name","full_name","address","address_line_1","admin_area_1","admin_area_2","country_code","payee","email_address","key","Object","keys","id","cartQuantity","stringify","khuyenMaiNavigation","sale","giaKhuyenMai","giaSP","cartTotalQuantity","width","margin","clientId","currency"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm, Form } from '../../../src/hooks/useForm';\r\nimport { useSelector } from 'react-redux';\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { formatNumber } from '../../Common/index';\r\n\r\nconst initialFValues = {\r\n    idKhach: 0,\r\n    hoTen: '',\r\n    sdt: '',\r\n    diaChi: '',\r\n    email: '',\r\n    ghiChu: '',\r\n    soLuong: 0,\r\n    thanhTien: 0,\r\n    idCheckout: 0,\r\n    idSanPham: 0,\r\n    tongHoaDon: 0,\r\n    tongLuongSanPham: 0,\r\n    checkoutProduct: [],\r\n    tinh: '',\r\n    huyen: '',\r\n}\r\n\r\nconst PaypalCheckout = (props) => {\r\n    const { addOrEdit, cartTotalAmount } = props;\r\n    const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"))\r\n    const dataCarts = useSelector((state) => state.cart)\r\n    const amounts = (cartTotalAmount / 22982.50);\r\n    const amountsPaypal = amounts.toFixed(2);\r\n    console.log(amountsPaypal)\r\n\r\n    const handleSubmit = (details, data) => {\r\n        const formDataPaypal = new FormData()\r\n        formDataPaypal.append('hoTen', details.purchase_units[0].shipping.name.full_name)\r\n        formDataPaypal.append('diaChi',\r\n            details.purchase_units[0].shipping.address.address_line_1 + \" \"\r\n            + details.purchase_units[0].shipping.address.admin_area_1 + \" \"\r\n            + details.purchase_units[0].shipping.address.admin_area_2 + \" \"\r\n            + details.purchase_units[0].shipping.address.country_code + \" \")\r\n        //formDataPaypal.append('sdt', values.sdt)\r\n        formDataPaypal.append('email', details.purchase_units[0].payee.email_address)\r\n        if (dataCart != null) {\r\n            for (const key of Object.keys(dataCart)) {\r\n                formDataPaypal.append('idSanPham', dataCart[key].id)\r\n                formDataPaypal.append('soLuong', dataCart[key].cartQuantity)\r\n                formDataPaypal.append('checkoutProduct', JSON.stringify(dataCart[key]))\r\n                if (dataCart[key].khuyenMaiNavigation.sale > 0) {\r\n                    formDataPaypal.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity)\r\n                }\r\n                else {\r\n                    formDataPaypal.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity)\r\n                }\r\n            }\r\n        } else {\r\n            formDataPaypal.append('idSanPham', dataCart[0].id)\r\n            formDataPaypal.append('soLuong', dataCart[0].cartQuantity)\r\n        }\r\n        formDataPaypal.append('tongHoaDon', [dataCarts.cartTotalAmount])\r\n        formDataPaypal.append('tongLuongSanPham', [dataCarts.cartTotalQuantity])\r\n        addOrEdit(formDataPaypal);\r\n    }\r\n    return (\r\n        <div style={{ width: '80%', margin: '0 auto' }} className=\"tab-pane fade\" id=\"checkoutpaypal\" role=\"tabpanel\">\r\n            <PayPalButton\r\n                options={{\r\n                    clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\r\n                    currency: \"USD\"\r\n                }}\r\n                amount={amountsPaypal}\r\n                onSuccess={(details, data) => handleSubmit(details, data)}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaypalCheckout;"]},"metadata":{},"sourceType":"module"}