{"ast":null,"code":"var _jsxFileName = \"D:\\\\DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That\\\\doancoso2-client\\\\src\\\\Components\\\\Checkout\\\\PaypalCheckout.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm, Form } from '../../../src/hooks/useForm';\nimport { useSelector } from 'react-redux';\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFValues = {\n  idKhach: 0,\n  hoTen: '',\n  sdt: '',\n  diaChi: '',\n  email: '',\n  ghiChu: '',\n  soLuong: 0,\n  thanhTien: 0,\n  idCheckout: 0,\n  idSanPham: 0,\n  tongHoaDon: 0,\n  tongLuongSanPham: 0,\n  checkoutProduct: [],\n  tinh: '',\n  huyen: ''\n};\n\nconst PaypalCheckout = props => {\n  _s();\n\n  const {\n    addOrEdit\n  } = props;\n  const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"));\n  const dataCarts = useSelector(state => state.cart);\n\n  const handleSubmit = (details, data) => {\n    e.preventDefault();\n\n    if (validate()) {\n      const formDataCheckout = new FormData();\n      formDataCheckout.append('hoTen', details); // formDataCheckout.append('diaChi', values.diaChi)\n      // formDataCheckout.append('ghiChu', values.ghiChu)\n      // formDataCheckout.append('sdt', values.sdt)\n      // formDataCheckout.append('email', values.email)\n      // formDataCheckout.append('tinh', currentTinh)\n      // formDataCheckout.append('huyen', currentHuyen)\n\n      if (dataCart != null) {\n        for (const key of Object.keys(dataCart)) {\n          formDataCheckout.append('idSanPham', dataCart[key].id);\n          formDataCheckout.append('soLuong', dataCart[key].cartQuantity);\n          formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]));\n\n          if (dataCart[key].khuyenMaiNavigation.sale > 0) {\n            formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity);\n          } else {\n            formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity);\n          }\n        }\n      } else {\n        formDataCheckout.append('idSanPham', dataCart[0].id);\n        formDataCheckout.append('soLuong', dataCart[0].cartQuantity);\n      }\n\n      formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount]);\n      formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity]);\n      addOrEdit(formDataCheckout);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '75%',\n      margin: '0 auto'\n    },\n    className: \"tab-pane fade\",\n    id: \"checkoutpaypal\",\n    role: \"tabpanel\",\n    children: /*#__PURE__*/_jsxDEV(PayPalButton, {\n      options: {\n        clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\n        currency: \"CAD\"\n      },\n      amount: cartTotalAmount,\n      onSuccess: (details, data) => {\n        alert(\"Transaction completed by \" + details.payer.name.given_name);\n        console.log(\"data\", data);\n        console.log(details.purchase_units[0]);\n        console.log(details);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PaypalCheckout, \"ddeGvHcgxuiUhb8MhgMLHWoyfLg=\", false, function () {\n  return [useSelector];\n});\n\n_c = PaypalCheckout;\nexport default PaypalCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"PaypalCheckout\");","map":{"version":3,"sources":["D:/DACS2 - DH18TIN03 - NguyenNhutThanh - 188672  Website_Ban_Do_Dung_Noi_That/doancoso2-client/src/Components/Checkout/PaypalCheckout.jsx"],"names":["React","useState","useEffect","useForm","Form","useSelector","PayPalButton","initialFValues","idKhach","hoTen","sdt","diaChi","email","ghiChu","soLuong","thanhTien","idCheckout","idSanPham","tongHoaDon","tongLuongSanPham","checkoutProduct","tinh","huyen","PaypalCheckout","props","addOrEdit","dataCart","JSON","parse","localStorage","getItem","dataCarts","state","cart","handleSubmit","details","data","e","preventDefault","validate","formDataCheckout","FormData","append","key","Object","keys","id","cartQuantity","stringify","khuyenMaiNavigation","sale","giaKhuyenMai","giaSP","cartTotalAmount","cartTotalQuantity","width","margin","clientId","currency","alert","payer","name","given_name","console","log","purchase_units"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm, Form } from '../../../src/hooks/useForm';\r\nimport { useSelector } from 'react-redux';\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\n\r\nconst initialFValues = {\r\n    idKhach: 0,\r\n    hoTen: '',\r\n    sdt: '',\r\n    diaChi: '',\r\n    email: '',\r\n    ghiChu: '',\r\n    soLuong: 0,\r\n    thanhTien: 0,\r\n    idCheckout: 0,\r\n    idSanPham: 0,\r\n    tongHoaDon: 0,\r\n    tongLuongSanPham: 0,\r\n    checkoutProduct: [],\r\n    tinh: '',\r\n    huyen: '',\r\n}\r\n\r\nconst PaypalCheckout = (props) => {\r\n    const { addOrEdit } = props;\r\n    const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"))\r\n    const dataCarts = useSelector((state) => state.cart)\r\n\r\n    const handleSubmit = (details, data) => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            const formDataCheckout = new FormData()\r\n            formDataCheckout.append('hoTen', details)\r\n            // formDataCheckout.append('diaChi', values.diaChi)\r\n            // formDataCheckout.append('ghiChu', values.ghiChu)\r\n            // formDataCheckout.append('sdt', values.sdt)\r\n            // formDataCheckout.append('email', values.email)\r\n            // formDataCheckout.append('tinh', currentTinh)\r\n            // formDataCheckout.append('huyen', currentHuyen)\r\n            if (dataCart != null) {\r\n                for (const key of Object.keys(dataCart)) {\r\n                    formDataCheckout.append('idSanPham', dataCart[key].id)\r\n                    formDataCheckout.append('soLuong', dataCart[key].cartQuantity)\r\n                    formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]))\r\n                    if (dataCart[key].khuyenMaiNavigation.sale > 0) {\r\n                        formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity)\r\n                    }\r\n                    else {\r\n                        formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity)\r\n                    }\r\n                }\r\n            } else {\r\n                formDataCheckout.append('idSanPham', dataCart[0].id)\r\n                formDataCheckout.append('soLuong', dataCart[0].cartQuantity)\r\n            }\r\n            formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount])\r\n            formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity])\r\n            addOrEdit(formDataCheckout);\r\n        }\r\n    }\r\n    return (\r\n        <div style={{ width: '75%', margin: '0 auto' }} className=\"tab-pane fade\" id=\"checkoutpaypal\" role=\"tabpanel\">\r\n            <PayPalButton\r\n                options={{\r\n                    clientId: \"AeCubu-Dyd33nGgOhHsE_LSmnvQaQGcgTiOrkHN7WlIFtuQUVYQp0E5pLi30fFZCk1AB6FOixyOhxEKf\",\r\n                    currency: \"CAD\"\r\n                }}\r\n                amount={cartTotalAmount}\r\n                onSuccess={(details, data) => {\r\n                    alert(\"Transaction completed by \" + details.payer.name.given_name);\r\n                    console.log(\"data\", data)\r\n                    console.log(details.purchase_units[0])\r\n                    console.log(details)\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaypalCheckout;"]},"metadata":{},"sourceType":"module"}