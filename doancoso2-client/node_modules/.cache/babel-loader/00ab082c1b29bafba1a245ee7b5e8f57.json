{"ast":null,"code":"import React,{useState,useEffect}from'react';import Login from'./Login';import{createAPI,MapAPI}from\"../../api/index\";import{toast}from\"react-toastify\";import{useHistory}from\"react-router-dom\";import{setUserAccount}from'../../redux/actions/productActions';import{useSelector,useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainLogin=function MainLogin(){var history=useHistory();var dispatch=useDispatch();var UserLogin=function UserLogin(FormUser){createAPI(MapAPI.USERACCOUNT+\"/SignInUser\").create(FormUser).then(function(res){toast.success(\"\\u0110\\u0103ng nh\\u1EADp th\\xE0nh c\\xF4ng\",{position:\"top-right\"});localStorage.setItem(\"info_user\",JSON.stringify(res.data));dispatch(setUserAccount(res.data));}).catch(function(err){return console.log(err);});};useEffect(function(){if(localStorage.getItem('info_user')){history.push(\"/\");}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"user-login blog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wrap-banner\"}),/*#__PURE__*/_jsx(\"div\",{id:\"wrapper-site\",children:/*#__PURE__*/_jsx(\"div\",{id:\"content-wrapper\",className:\"full-width\",children:/*#__PURE__*/_jsx(\"div\",{id:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:{maxWidth:'95%',margin:'0 auto',marginTop:'141px'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center title-page\",children:\"\\u0110\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-form\",children:/*#__PURE__*/_jsx(Login,{UserLogin:UserLogin})})]})})})})]})});};export default MainLogin;","map":{"version":3,"sources":["E:/doan02/doancoso2-client/src/Components/User/MainLogin.jsx"],"names":["React","useState","useEffect","Login","createAPI","MapAPI","toast","useHistory","setUserAccount","useSelector","useDispatch","MainLogin","history","dispatch","UserLogin","FormUser","USERACCOUNT","create","then","res","success","position","localStorage","setItem","JSON","stringify","data","catch","err","console","log","getItem","push","maxWidth","margin","marginTop"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,iBAAlC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,cAAT,KAA+B,oCAA/B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,GAAMM,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CAEA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,QAAD,CAAc,CAC5BX,SAAS,CAACC,MAAM,CAACW,WAAP,CAAqB,aAAtB,CAAT,CAA8CC,MAA9C,CAAqDF,QAArD,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACTb,KAAK,CAACc,OAAN,6CAAsC,CAClCC,QAAQ,CAAE,WADwB,CAAtC,EAGAC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACO,IAAnB,CAAlC,EACAb,QAAQ,CAACL,cAAc,CAACW,GAAG,CAACO,IAAL,CAAf,CAAR,CACH,CAPL,EAOOC,KAPP,CAOa,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPhB,EAQH,CATD,CAWA1B,SAAS,CAAC,UAAM,CACZ,GAAIoB,YAAY,CAACS,OAAb,CAAqB,WAArB,CAAJ,CAAuC,CACnCnB,OAAO,CAACoB,IAAR,CAAa,GAAb,EACH,CACJ,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,aAAf,EADJ,cAII,YAAK,EAAE,CAAC,cAAR,uBACI,YAAK,EAAE,CAAC,iBAAR,CAA0B,SAAS,CAAC,YAApC,uBACI,YAAK,EAAE,CAAC,MAAR,uBACI,aAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEC,QAAQ,CAAE,KAAZ,CAAmBC,MAAM,CAAE,QAA3B,CAAqCC,SAAS,CAAE,OAAhD,CAAlC,wBACI,WAAI,SAAS,CAAC,wBAAd,sCADJ,cAEI,YAAK,SAAS,CAAC,YAAf,uBACI,KAAC,KAAD,EAAO,SAAS,CAAErB,SAAlB,EADJ,EAFJ,GADJ,EADJ,EADJ,EAJJ,GADJ,EADJ,CAsBH,CA3CD,CA6CA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Login from './Login';\r\nimport { createAPI, MapAPI } from \"../../api/index\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setUserAccount } from '../../redux/actions/productActions';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst MainLogin = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const UserLogin = (FormUser) => {\r\n        createAPI(MapAPI.USERACCOUNT + \"/SignInUser\").create(FormUser)\r\n            .then(res => {\r\n                toast.success(`Đăng nhập thành công`, {\r\n                    position: \"top-right\",\r\n                });\r\n                localStorage.setItem(\"info_user\", JSON.stringify(res.data));\r\n                dispatch(setUserAccount(res.data));\r\n            }).catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('info_user')) {\r\n            history.push(\"/\")\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"user-login blog\">\r\n            <div className=\"main-content\">\r\n                <div className=\"wrap-banner\">\r\n                </div>\r\n                {/* main */}\r\n                <div id=\"wrapper-site\">\r\n                    <div id=\"content-wrapper\" className=\"full-width\">\r\n                        <div id=\"main\">\r\n                            <div className=\"container\" style={{ maxWidth: '95%', margin: '0 auto', marginTop: '141px' }}>\r\n                                <h1 className=\"text-center title-page\">Đăng nhập</h1>\r\n                                <div className=\"login-form\">\r\n                                    <Login UserLogin={UserLogin} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainLogin;"]},"metadata":{},"sourceType":"module"}