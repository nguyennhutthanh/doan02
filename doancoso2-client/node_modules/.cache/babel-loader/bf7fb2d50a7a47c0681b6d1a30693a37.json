{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import{formatNumber}from'../../Common/index';import{addToCart,clearCart,decreaseCart,getTotals,removeFromCart}from\"../../features/cartSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=function Cart(){var state=useSelector(function(state){return state.cart.cartItems;});var cart=useSelector(function(state){return state.cart;});var dispatch=useDispatch();useEffect(function(){dispatch(getTotals());},[cart,dispatch]);var handleRemoveFromCart=function handleRemoveFromCart(product){dispatch(removeFromCart(product));};var cartTotalAmount=cart.cartTotalAmount,cartTotalQuantity=cart.cartTotalQuantity;var renderCart=state.map(function(cartItem){var id=cartItem.id,tenSP=cartItem.tenSP,giaSP=cartItem.giaSP,urlAnhSanPham=cartItem.urlAnhSanPham,giaKhuyenMai=cartItem.giaKhuyenMai,khuyenMaiNavigation=cartItem.khuyenMaiNavigation,cartQuantity=cartItem.cartQuantity;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"product-image\",children:/*#__PURE__*/_jsx(Link,{to:\"/DetailProduct/\".concat(id),children:/*#__PURE__*/_jsx(\"img\",{src:urlAnhSanPham,alt:\"Product\"})})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:/*#__PURE__*/_jsx(Link,{to:\"/DetailProduct/\".concat(id),children:tenSP})}),/*#__PURE__*/_jsxs(\"div\",{children:[cartQuantity,\" x \",/*#__PURE__*/_jsxs(\"span\",{className:\"product-price\",children:[khuyenMaiNavigation.sale>0?formatNumber(giaKhuyenMai):formatNumber(giaSP),\" VN\\u0110\"]})]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"action\",children:/*#__PURE__*/_jsx(\"button\",{className:\"remove-from-cart\",style:{background:'none',color:'red',border:'none',cursor:'pointer'},onClick:function onClick(){return handleRemoveFromCart(cartItem);},children:/*#__PURE__*/_jsx(\"i\",{style:{fontSize:'20px'},className:\"fa fa-trash-o\",\"aria-hidden\":\"true\"})})})]});});var emtyCart=function emtyCart(){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"text-center\",children:\"! Gi\\u1ECF h\\xE0ng r\\u1ED7ng, b\\u1EA1n ch\\u01B0a th\\xEAm s\\u1EA3n ph\\u1EA9m n\\xE0o\"})});};return/*#__PURE__*/_jsx(\"div\",{className:\"desktop_cart\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blockcart block-cart cart-preview tiva-toggle\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-cart tiva-toggle-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"cart-products-count\",style:{top:'-10px',left:'1.125pc'},children:state.length}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-shopping-cart\",style:{fontSize:'25px'},\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart-content\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[state.length>0?renderCart:emtyCart(),state.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"total\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:2,children:\"T\\u1ED5ng \\u0111\\u01A1n : \"}),/*#__PURE__*/_jsxs(\"td\",{children:[formatNumber(cartTotalAmount),\" VN\\u0110\"]})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-button\",children:[/*#__PURE__*/_jsx(Link,{to:\"/Viewcart\",title:\"View Cart\",children:\"Gi\\u1ECF h\\xE0ng\"}),/*#__PURE__*/_jsx(Link,{to:\"/Checkout\",title:\"Checkout\",children:\"\\u0110\\u1EB7t h\\xE0ng\"})]})})})]}):\"\"]})})})})]})});};export default Cart;","map":{"version":3,"sources":["E:/doan02/doancoso2-client/src/Components/Header/Cart.jsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Link","formatNumber","addToCart","clearCart","decreaseCart","getTotals","removeFromCart","Cart","state","cart","cartItems","dispatch","handleRemoveFromCart","product","cartTotalAmount","cartTotalQuantity","renderCart","map","cartItem","id","tenSP","giaSP","urlAnhSanPham","giaKhuyenMai","khuyenMaiNavigation","cartQuantity","sale","background","color","border","cursor","fontSize","emtyCart","top","left","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport { formatNumber } from '../../Common/index';\r\nimport {\r\n    addToCart, clearCart, decreaseCart, getTotals, removeFromCart,\r\n} from \"../../features/cartSlice\";\r\n\r\nconst Cart = () => {\r\n    const state = useSelector((state) => state.cart.cartItems);\r\n    const cart = useSelector((state) => state.cart);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getTotals());\r\n    }, [cart, dispatch]);\r\n\r\n    const handleRemoveFromCart = (product) => {\r\n        dispatch(removeFromCart(product));\r\n    };\r\n    const { cartTotalAmount, cartTotalQuantity } = cart;\r\n\r\n    const renderCart = state.map((cartItem) => {\r\n        const {\r\n            id, tenSP, giaSP, urlAnhSanPham, giaKhuyenMai, khuyenMaiNavigation, cartQuantity,\r\n        } = cartItem;\r\n        return (\r\n            <tr>\r\n                <td className=\"product-image\">\r\n                    <Link to={`/DetailProduct/${id}`}>\r\n                        <img src={urlAnhSanPham} alt=\"Product\" />\r\n                    </Link>\r\n                </td>\r\n                <td>\r\n                    <div className=\"product-name\">\r\n                        <Link to={`/DetailProduct/${id}`}>{tenSP}</Link>\r\n                    </div>\r\n                    <div>\r\n                        {cartQuantity} x <span className=\"product-price\">\r\n                            {\r\n                                khuyenMaiNavigation.sale > 0 ?\r\n                                    formatNumber(giaKhuyenMai)\r\n                                    : formatNumber(giaSP)\r\n                            } VNĐ\r\n                        </span>\r\n                    </div>\r\n                </td>\r\n                <td className=\"action\">\r\n                    <button className=\"remove-from-cart\"\r\n                        style={{ background: 'none', color: 'red', border: 'none', cursor: 'pointer' }}\r\n                        onClick={() => handleRemoveFromCart(cartItem)}\r\n                    >\r\n                        <i\r\n                            style={{ fontSize: '20px' }}\r\n                            className=\"fa fa-trash-o\" aria-hidden=\"true\" />\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        );\r\n    });\r\n\r\n    const emtyCart = () => {\r\n        return (\r\n            <div className=\"container\">\r\n                <h5 className=\"text-center\">\r\n                    ! Giỏ hàng rỗng, bạn chưa thêm sản phẩm nào\r\n                </h5>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"desktop_cart\">\r\n            <div className=\"blockcart block-cart cart-preview tiva-toggle\">\r\n                <div className=\"header-cart tiva-toggle-btn\">\r\n                    <span className=\"cart-products-count\"\r\n                        style={{ top: '-10px', left: '1.125pc' }}\r\n                    >{state.length}</span>\r\n                    <i className=\"fa fa-shopping-cart\"\r\n                        style={{ fontSize: '25px' }}\r\n                        aria-hidden=\"true\" />\r\n                </div>\r\n                <div className=\"dropdown-content\">\r\n                    <div className=\"cart-content\">\r\n                        <table>\r\n                            <tbody>\r\n                                {state.length > 0 ? renderCart : emtyCart()}\r\n                                {state.length > 0 ?\r\n                                    <>\r\n                                        <tr className=\"total\">\r\n                                            <td colSpan={2}>Tổng đơn : </td>\r\n                                            <td>{formatNumber(cartTotalAmount)} VNĐ</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td colSpan={3} className=\"d-flex justify-content-center\">\r\n                                                <div className=\"cart-button\">\r\n                                                    <Link to=\"/Viewcart\" title=\"View Cart\">Giỏ hàng</Link>\r\n                                                    <Link to=\"/Checkout\" title=\"Checkout\">Đặt hàng</Link>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </> : \"\"}\r\n                            </tbody>\r\n\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}