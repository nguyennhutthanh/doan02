{"ast":null,"code":"var _jsxFileName = \"D:\\\\DoAnCoSo2\\\\doancoso02client-gui\\\\doancoso2-client\\\\src\\\\Components\\\\Checkout\\\\FormCheckout.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm, Form } from '../../../src/hooks/useForm';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFValues = {\n  idKhach: 0,\n  hoTen: '',\n  sdt: '',\n  diaChi: '',\n  email: '',\n  ghiChu: '',\n  soLuong: 0,\n  thanhTien: 0,\n  idCheckout: 0,\n  idSanPham: 0,\n  tongHoaDon: 0,\n  tongLuongSanPham: 0,\n  checkoutProduct: []\n};\n\nconst FormCheckout = props => {\n  _s();\n\n  const {\n    addOrEdit\n  } = props;\n  const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"));\n  const dataCarts = useSelector(state => state.cart);\n  const user = JSON.parse(localStorage.getItem(\"info_user\"));\n\n  const validate = (fieldValues = values) => {\n    let temp = { ...errors\n    };\n\n    if (user === null) {\n      if ('hoTen' in fieldValues) temp.hoTen = fieldValues.hoTen ? \"\" : \"This field is required.\";\n      if ('sdt' in fieldValues) temp.sdt = fieldValues.sdt ? \"\" : \"This field is required.\";\n      if ('diaChi' in fieldValues) temp.diaChi = fieldValues.diaChi ? \"\" : \"This field is required.\";\n      if ('email' in fieldValues) temp.email = fieldValues.email ? \"\" : \"This field is required.\";\n    } else {\n      if ('ghiChu' in fieldValues) temp.ghiChu = fieldValues.ghiChu ? \"\" : \"This field is required.\";\n    }\n\n    setErrors({ ...temp\n    });\n    if (fieldValues == values) return Object.values(temp).every(x => x == \"\");\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialFValues, true, validate);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      if (user === null) {\n        const formDataCheckout = new FormData();\n        formDataCheckout.append('idKhach', values.idKhach);\n        formDataCheckout.append('hoTen', values.hoTen);\n        formDataCheckout.append('diaChi', values.diaChi);\n        formDataCheckout.append('ghiChu', values.ghiChu);\n        formDataCheckout.append('sdt', values.sdt);\n        formDataCheckout.append('email', values.email);\n\n        if (dataCart != null) {\n          for (const key of Object.keys(dataCart)) {\n            formDataCheckout.append('idSanPham', dataCart[key].id);\n            formDataCheckout.append('soLuong', dataCart[key].cartQuantity);\n            formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]));\n\n            if (dataCart[key].khuyenMaiNavigation.sale > 0) {\n              formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity);\n            } else {\n              formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity);\n            }\n          }\n        } else {\n          formDataCheckout.append('idSanPham', dataCart[0].id);\n          formDataCheckout.append('soLuong', dataCart[0].cartQuantity);\n        }\n\n        formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount]);\n        formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity]);\n        addOrEdit(formDataCheckout, resetForm);\n      } else {\n        const formDataCheckout = new FormData();\n        formDataCheckout.append('idKhach', user.idKhach);\n        formDataCheckout.append('hoTen', user.hoTen);\n        formDataCheckout.append('diaChi', user.diaChi);\n        formDataCheckout.append('ghiChu', values.ghiChu);\n        formDataCheckout.append('sdt', user.sdt);\n        formDataCheckout.append('email', user.email);\n\n        if (dataCart != null) {\n          for (const key of Object.keys(dataCart)) {\n            formDataCheckout.append('idSanPham', dataCart[key].id);\n            formDataCheckout.append('soLuong', dataCart[key].cartQuantity);\n            formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]));\n          }\n        } else {\n          formDataCheckout.append('idSanPham', dataCart[0].id);\n          formDataCheckout.append('soLuong', dataCart[0].cartQuantity);\n        }\n\n        formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount]);\n        formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity]);\n        addOrEdit(formDataCheckout, resetForm);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"customer-form\",\n    onSubmit: handleSubmit,\n    className: \"js-customer-form\",\n    method: \"post\",\n    children: [user === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"id_customer\",\n        defaultValue: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"hoTen\",\n          type: \"text\",\n          placeholder: \"Nh\\u1EADp h\\u1ECD v\\xE0 t\\xEAn\",\n          value: values.hoTen,\n          onChange: handleInputChange,\n          error: errors.hoTen\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"sdt\",\n          type: \"text\",\n          placeholder: \"Nh\\u1EADp S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n          value: values.sdt,\n          onChange: handleInputChange,\n          error: errors.sdt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          name: \"email\",\n          type: \"text\",\n          placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email\",\n          value: values.email,\n          onChange: handleInputChange,\n          error: errors.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 ml-0\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: \"diaChi\",\n            type: \"text\",\n            placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",\n            value: values.diaChi,\n            onChange: handleInputChange,\n            error: errors.diaChi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            name: \"diaChi\",\n            type: \"text\",\n            placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",\n            value: values.diaChi,\n            onChange: handleInputChange,\n            error: errors.diaChi\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        name: \"ghiChu\",\n        type: \"text\",\n        placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",\n        value: values.ghiChu,\n        onChange: handleInputChange,\n        error: errors.ghiChu,\n        placeholder: \"Nh\\u1EADp ghi ch\\xFA\",\n        style: {\n          width: '570px',\n          marginLeft: '-16px'\n        },\n        rows: 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"form-control\",\n      name: \"ghiChu\",\n      type: \"text\",\n      placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",\n      value: values.ghiChu,\n      onChange: handleInputChange,\n      error: errors.ghiChu,\n      placeholder: \"Nh\\u1EADp ghi ch\\xFA\",\n      style: {\n        width: '570px',\n        marginLeft: '-16px'\n      },\n      rows: 5\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"clearfix\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          name: \"submitCreate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"continue btn btn-primary pull-xs-right\",\n          name: \"\\u0110\\u1EB7t h\\xE0ng\",\n          type: \"submit\",\n          children: \"\\u0110\\u1EB7t h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormCheckout, \"yvlFNf7X2kfQUpxW+kLLPsAm704=\", false, function () {\n  return [useSelector, useForm];\n});\n\n_c = FormCheckout;\nexport default FormCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormCheckout\");","map":{"version":3,"sources":["D:/DoAnCoSo2/doancoso02client-gui/doancoso2-client/src/Components/Checkout/FormCheckout.jsx"],"names":["React","useForm","Form","useSelector","initialFValues","idKhach","hoTen","sdt","diaChi","email","ghiChu","soLuong","thanhTien","idCheckout","idSanPham","tongHoaDon","tongLuongSanPham","checkoutProduct","FormCheckout","props","addOrEdit","dataCart","JSON","parse","localStorage","getItem","dataCarts","state","cart","user","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmit","e","preventDefault","formDataCheckout","FormData","append","key","keys","id","cartQuantity","stringify","khuyenMaiNavigation","sale","giaKhuyenMai","giaSP","cartTotalAmount","cartTotalQuantity","width","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useForm, Form } from '../../../src/hooks/useForm';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst initialFValues = {\r\n    idKhach: 0,\r\n    hoTen: '',\r\n    sdt: '',\r\n    diaChi: '',\r\n    email: '',\r\n    ghiChu: '',\r\n    soLuong: 0,\r\n    thanhTien: 0,\r\n    idCheckout: 0,\r\n    idSanPham: 0,\r\n    tongHoaDon: 0,\r\n    tongLuongSanPham: 0,\r\n    checkoutProduct: []\r\n}\r\n\r\nconst FormCheckout = (props) => {\r\n    const { addOrEdit } = props;\r\n    const dataCart = JSON.parse(localStorage.getItem(\"cartItems\"))\r\n    const dataCarts = useSelector((state) => state.cart)\r\n    const user = JSON.parse(localStorage.getItem(\"info_user\"))\r\n\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if (user === null) {\r\n            if ('hoTen' in fieldValues)\r\n                temp.hoTen = fieldValues.hoTen ? \"\" : \"This field is required.\"\r\n            if ('sdt' in fieldValues)\r\n                temp.sdt = fieldValues.sdt ? \"\" : \"This field is required.\"\r\n            if ('diaChi' in fieldValues)\r\n                temp.diaChi = fieldValues.diaChi ? \"\" : \"This field is required.\"\r\n            if ('email' in fieldValues)\r\n                temp.email = fieldValues.email ? \"\" : \"This field is required.\"\r\n        } else {\r\n            if ('ghiChu' in fieldValues)\r\n                temp.ghiChu = fieldValues.ghiChu ? \"\" : \"This field is required.\"\r\n        }\r\n        setErrors({\r\n            ...temp\r\n        })\r\n        if (fieldValues == values)\r\n            return Object.values(temp).every(x => x == \"\")\r\n    }\r\n\r\n    const {\r\n        values, setValues,\r\n        errors, setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useForm(initialFValues, true, validate);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            if (user === null) {\r\n                const formDataCheckout = new FormData()\r\n                formDataCheckout.append('idKhach', values.idKhach)\r\n                formDataCheckout.append('hoTen', values.hoTen)\r\n                formDataCheckout.append('diaChi', values.diaChi)\r\n                formDataCheckout.append('ghiChu', values.ghiChu)\r\n                formDataCheckout.append('sdt', values.sdt)\r\n                formDataCheckout.append('email', values.email)\r\n                if (dataCart != null) {\r\n                    for (const key of Object.keys(dataCart)) {\r\n                        formDataCheckout.append('idSanPham', dataCart[key].id)\r\n                        formDataCheckout.append('soLuong', dataCart[key].cartQuantity)\r\n                        formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]))\r\n                        if (dataCart[key].khuyenMaiNavigation.sale > 0) {\r\n                            formDataCheckout.append('thanhTien', dataCart[key].giaKhuyenMai * dataCart[key].cartQuantity)\r\n                        }\r\n                        else {\r\n                            formDataCheckout.append('thanhTien', dataCart[key].giaSP * dataCart[key].cartQuantity)\r\n                        }\r\n                    }\r\n                } else {\r\n                    formDataCheckout.append('idSanPham', dataCart[0].id)\r\n                    formDataCheckout.append('soLuong', dataCart[0].cartQuantity)\r\n                }\r\n                formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount])\r\n                formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity])\r\n                addOrEdit(formDataCheckout, resetForm);\r\n            } else {\r\n                const formDataCheckout = new FormData()\r\n                formDataCheckout.append('idKhach', user.idKhach)\r\n                formDataCheckout.append('hoTen', user.hoTen)\r\n                formDataCheckout.append('diaChi', user.diaChi)\r\n                formDataCheckout.append('ghiChu', values.ghiChu)\r\n                formDataCheckout.append('sdt', user.sdt)\r\n                formDataCheckout.append('email', user.email)\r\n                if (dataCart != null) {\r\n                    for (const key of Object.keys(dataCart)) {\r\n                        formDataCheckout.append('idSanPham', dataCart[key].id)\r\n                        formDataCheckout.append('soLuong', dataCart[key].cartQuantity)\r\n                        formDataCheckout.append('checkoutProduct', JSON.stringify(dataCart[key]))\r\n                    }\r\n                } else {\r\n                    formDataCheckout.append('idSanPham', dataCart[0].id)\r\n                    formDataCheckout.append('soLuong', dataCart[0].cartQuantity)\r\n                }\r\n                formDataCheckout.append('tongHoaDon', [dataCarts.cartTotalAmount])\r\n                formDataCheckout.append('tongLuongSanPham', [dataCarts.cartTotalQuantity])\r\n                addOrEdit(formDataCheckout, resetForm);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form id=\"customer-form\" onSubmit={handleSubmit} className=\"js-customer-form\" method=\"post\">\r\n            {\r\n                user === null ?\r\n                    <div>\r\n                        <input type=\"hidden\" name=\"id_customer\" defaultValue />\r\n                        <div className=\"form-group row\">\r\n                            <input\r\n                                className=\"form-control\"\r\n                                name=\"hoTen\" type=\"text\"\r\n                                placeholder=\"Nhập họ và tên\"\r\n                                value={values.hoTen}\r\n                                onChange={handleInputChange}\r\n                                error={errors.hoTen}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <input\r\n                                className=\"form-control\"\r\n                                name=\"sdt\" type=\"text\"\r\n                                placeholder=\"Nhập Số điện thoại\"\r\n                                value={values.sdt}\r\n                                onChange={handleInputChange}\r\n                                error={errors.sdt}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            <input\r\n                                className=\"form-control\"\r\n                                name=\"email\" type=\"text\"\r\n                                placeholder=\"Nhập địa chỉ email\"\r\n                                value={values.email}\r\n                                onChange={handleInputChange}\r\n                                error={errors.email}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group row\">\r\n                            {/* <input\r\n                                className=\"form-control\"\r\n                                name=\"diaChi\" type=\"text\"\r\n                                placeholder=\"Nhập địa chỉ\"\r\n                                value={values.diaChi}\r\n                                onChange={handleInputChange}\r\n                                error={errors.diaChi}\r\n                            /> */}\r\n                            <div className=\"col-md-6 ml-0\">\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    name=\"diaChi\" type=\"text\"\r\n                                    placeholder=\"Nhập địa chỉ\"\r\n                                    value={values.diaChi}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.diaChi}\r\n                                />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    name=\"diaChi\" type=\"text\"\r\n                                    placeholder=\"Nhập địa chỉ\"\r\n                                    value={values.diaChi}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.diaChi}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <textarea\r\n                            className=\"form-control\"\r\n                            name=\"ghiChu\" type=\"text\"\r\n                            placeholder=\"Nhập địa chỉ\"\r\n                            value={values.ghiChu}\r\n                            onChange={handleInputChange}\r\n                            error={errors.ghiChu}\r\n                            placeholder=\"Nhập ghi chú\"\r\n                            style={{ width: '570px', marginLeft: '-16px' }}\r\n                            rows={5}\r\n                        />\r\n                    </div> :\r\n                    <textarea\r\n                        className=\"form-control\"\r\n                        name=\"ghiChu\" type=\"text\"\r\n                        placeholder=\"Nhập địa chỉ\"\r\n                        value={values.ghiChu}\r\n                        onChange={handleInputChange}\r\n                        error={errors.ghiChu}\r\n                        placeholder=\"Nhập ghi chú\"\r\n                        style={{ width: '570px', marginLeft: '-16px' }}\r\n                        rows={5}\r\n                    />\r\n            }\r\n\r\n            <div className=\"clearfix\">\r\n                <div className=\"row\">\r\n                    <input type=\"hidden\" name=\"submitCreate\" />\r\n                    <button className=\"continue btn btn-primary pull-xs-right\" name=\"Đặt hàng\" type=\"submit\">\r\n                        Đặt hàng\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default FormCheckout;"]},"metadata":{},"sourceType":"module"}