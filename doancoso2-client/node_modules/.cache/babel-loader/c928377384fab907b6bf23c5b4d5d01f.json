{"ast":null,"code":"import _objectSpread from\"E:/doan02/doancoso2-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{useForm,Form}from'../../hooks/useForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFValues={id:0,name:'',noiDung:'',email:''};var Comment=function Comment(props){var addOrEdit=props.addOrEdit,idComment=props.idComment;var validate=function validate(){var fieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:values;var temp=_objectSpread({},errors);if('name'in fieldValues)temp.name=fieldValues.name?\"\":\"This field is required.\";if('noiDung'in fieldValues)temp.noiDung=fieldValues.noiDung?\"\":\"This field is required.\";if('email'in fieldValues)temp.email=fieldValues.email?\"\":\"This field is required.\";setErrors(_objectSpread({},temp));if(fieldValues==values)return Object.values(temp).every(function(x){return x==\"\";});};var _useForm=useForm(initialFValues,true,validate),values=_useForm.values,setValues=_useForm.setValues,errors=_useForm.errors,setErrors=_useForm.setErrors,handleInputChange=_useForm.handleInputChange,resetForm=_useForm.resetForm;var handleSubmitComment=function handleSubmitComment(e){e.preventDefault();if(validate()){var formDataComment=new FormData();formDataComment.append('id',idComment);formDataComment.append('name',values.name);formDataComment.append('noiDung',values.noiDung);formDataComment.append('email',values.email);addOrEdit(formDataComment,resetForm);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitComment,className:\"new-review-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"review[rating]\",defaultValue:3}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"product_id\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"spr-form-title\",children:\"\\u0110\\xE1nh gi\\xE1 s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"spr-form-contact\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spr-form-contact-name\",children:/*#__PURE__*/_jsx(\"input\",{className:\"spr-form-input spr-form-input-text form-control\",name:\"name\",type:\"text\",value:values.name,onChange:handleInputChange,error:errors.name,placeholder:\"Nh\\u1EADp h\\u1ECD t\\xEAn\",autoComplete:\"off\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"spr-form-contact-email\",children:/*#__PURE__*/_jsx(\"input\",{className:\"spr-form-input spr-form-input-email form-control\",placeholder:\"Nh\\u1EADp Email\",autoComplete:\"off\",name:\"email\",type:\"email\",value:values.email,onChange:handleInputChange,error:errors.email})})]}),/*#__PURE__*/_jsx(\"fieldset\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"spr-form-review-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spr-form-input\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"spr-form-input-textarea\",rows:6,placeholder:\"N\\u1ED9i dung\",autoComplete:\"off\",name:\"noiDung\",type:\"text\",value:values.noiDung,onChange:handleInputChange,error:errors.noiDung})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"addComment\",id:\"submitComment\",className:\"btn btn-default\",children:\"\\u0110\\u0103ng\"})})]});};export default Comment;","map":{"version":3,"sources":["E:/doan02/doancoso2-client/src/Components/DetailProduct/Comment.jsx"],"names":["React","useForm","Form","initialFValues","id","name","noiDung","email","Comment","props","addOrEdit","idComment","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmitComment","e","preventDefault","formDataComment","FormData","append"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useForm, Form } from '../../hooks/useForm';\r\n\r\nconst initialFValues = {\r\n    id: 0,\r\n    name: '',\r\n    noiDung: '',\r\n    email: '',\r\n}\r\n\r\nconst Comment = (props) => {\r\n    const { addOrEdit, idComment } = props;\r\n\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        if ('name' in fieldValues)\r\n            temp.name = fieldValues.name ? \"\" : \"This field is required.\"\r\n        if ('noiDung' in fieldValues)\r\n            temp.noiDung = fieldValues.noiDung ? \"\" : \"This field is required.\"\r\n        if ('email' in fieldValues)\r\n            temp.email = fieldValues.email ? \"\" : \"This field is required.\"\r\n        setErrors({\r\n            ...temp\r\n        })\r\n        if (fieldValues == values)\r\n            return Object.values(temp).every(x => x == \"\")\r\n    }\r\n    const {\r\n        values, setValues,\r\n        errors, setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useForm(initialFValues, true, validate);\r\n\r\n    const handleSubmitComment = e => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            const formDataComment = new FormData()\r\n            formDataComment.append('id', idComment)\r\n            formDataComment.append('name', values.name)\r\n            formDataComment.append('noiDung', values.noiDung)\r\n            formDataComment.append('email', values.email)\r\n            addOrEdit(formDataComment, resetForm);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmitComment} className=\"new-review-form\">\r\n            <input type=\"hidden\" name=\"review[rating]\" defaultValue={3} />\r\n            <input type=\"hidden\" name=\"product_id\" />\r\n            <h3 className=\"spr-form-title\">Đánh giá sản phẩm</h3>\r\n            <fieldset className=\"spr-form-contact\">\r\n                <div className=\"spr-form-contact-name\">\r\n                    <input className=\"spr-form-input spr-form-input-text form-control\"\r\n                        name=\"name\" type=\"text\"\r\n                        value={values.name}\r\n                        onChange={handleInputChange}\r\n                        error={errors.name}\r\n                        placeholder=\"Nhập họ tên\"\r\n                        autoComplete=\"off\"\r\n                    />\r\n                </div>\r\n                <div className=\"spr-form-contact-email\">\r\n                    <input className=\"spr-form-input spr-form-input-email form-control\"\r\n                        placeholder=\"Nhập Email\"\r\n                        autoComplete=\"off\"\r\n                        name=\"email\" type=\"email\"\r\n                        value={values.email}\r\n                        onChange={handleInputChange}\r\n                        error={errors.email}\r\n                    />\r\n                </div>\r\n            </fieldset>\r\n            <fieldset>\r\n                <div className=\"spr-form-review-body\">\r\n                    <div className=\"spr-form-input\">\r\n                        <textarea\r\n                            className=\"spr-form-input-textarea\"\r\n                            rows={6} placeholder=\"Nội dung\"\r\n                            autoComplete=\"off\"\r\n                            name=\"noiDung\" type=\"text\"\r\n                            value={values.noiDung}\r\n                            onChange={handleInputChange}\r\n                            error={errors.noiDung}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n            <div className=\"submit\">\r\n                <button type=\"submit\" name=\"addComment\" id=\"submitComment\" className=\"btn btn-default\"\r\n                >Đăng</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\nexport default Comment;"]},"metadata":{},"sourceType":"module"}