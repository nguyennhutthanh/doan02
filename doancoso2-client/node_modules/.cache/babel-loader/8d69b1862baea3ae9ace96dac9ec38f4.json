{"ast":null,"code":"import _objectSpread from\"E:/doan02/doancoso2-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from'react';import{useHistory}from\"react-router-dom\";import{useForm,Form}from'../../hooks/useForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialFValues={username:'',password:''};var Login=function Login(props){var UserLogin=props.UserLogin;var history=useHistory();var validate=function validate(){var fieldValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:values;var temp=_objectSpread({},errors);if('username'in fieldValues)temp.username=fieldValues.username?\"\":\"This field is required.\";if('password'in fieldValues)temp.password=fieldValues.password?\"\":\"This field is required.\";setErrors(_objectSpread({},temp));if(fieldValues==values)return Object.values(temp).every(function(x){return x==\"\";});};var _useForm=useForm(initialFValues,true,validate),values=_useForm.values,setValues=_useForm.setValues,errors=_useForm.errors,setErrors=_useForm.setErrors,handleInputChange=_useForm.handleInputChange,resetForm=_useForm.resetForm;var handleSubmitUser=function handleSubmitUser(e){e.preventDefault();if(validate()){var FormLogin=new FormData();FormLogin.append('username',values.username);FormLogin.append('password',values.password);UserLogin(FormLogin,resetForm);history.push(\"/\");}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmitUser,id:\"customer-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"back\",defaultValue:\"my-account\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group no-gutters\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",name:\"username\",value:values.username,onChange:handleInputChange,autoComplete:\"off\",error:errors.username,type:\"text\",placeholder:\"Nh\\u1EADp t\\xEAn t\\xE0i kho\\u1EA3n\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group no-gutters\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group js-parent-focus\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control js-child-focus js-visible-password\",name:\"password\",type:\"password\",value:values.password,onChange:handleInputChange,error:errors.password,autoComplete:\"off\",placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"clearfix\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center no-gutters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"submitLogin\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]})})]});};export default Login;","map":{"version":3,"sources":["E:/doan02/doancoso2-client/src/Components/User/Login.jsx"],"names":["React","useState","useEffect","useHistory","useForm","Form","initialFValues","username","password","Login","props","UserLogin","history","validate","fieldValues","values","temp","errors","setErrors","Object","every","x","setValues","handleInputChange","resetForm","handleSubmitUser","e","preventDefault","FormLogin","FormData","append","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm, Form } from '../../hooks/useForm';\r\n\r\nconst initialFValues = {\r\n  username: '',\r\n  password: '',\r\n}\r\n\r\nconst Login = (props) => {\r\n  const { UserLogin } = props;\r\n  const history = useHistory();\r\n\r\n  const validate = (fieldValues = values) => {\r\n    let temp = { ...errors }\r\n    if ('username' in fieldValues)\r\n      temp.username = fieldValues.username ? \"\" : \"This field is required.\"\r\n    if ('password' in fieldValues)\r\n      temp.password = fieldValues.password ? \"\" : \"This field is required.\"\r\n    setErrors({\r\n      ...temp\r\n    })\r\n    if (fieldValues == values)\r\n      return Object.values(temp).every(x => x == \"\")\r\n  }\r\n\r\n  const {\r\n    values, setValues,\r\n    errors, setErrors,\r\n    handleInputChange,\r\n    resetForm\r\n  } = useForm(initialFValues, true, validate);\r\n\r\n  const handleSubmitUser = e => {\r\n    e.preventDefault()\r\n    if (validate()) {\r\n      const FormLogin = new FormData()\r\n      FormLogin.append('username', values.username)\r\n      FormLogin.append('password', values.password)\r\n      UserLogin(FormLogin, resetForm);\r\n      history.push(\"/\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmitUser} id=\"customer-form\" >\r\n      <div>\r\n        <input type=\"hidden\" name=\"back\" defaultValue=\"my-account\" />\r\n        <div className=\"form-group no-gutters\">\r\n          <input className=\"form-control\" name=\"username\"\r\n            value={values.username}\r\n            onChange={handleInputChange}\r\n            autoComplete=\"off\"\r\n            error={errors.username}\r\n            type=\"text\" placeholder=\"Nhập tên tài khoản\" />\r\n        </div>\r\n        <div className=\"form-group no-gutters\">\r\n          <div className=\"input-group js-parent-focus\">\r\n            <input className=\"form-control js-child-focus js-visible-password\" name=\"password\" type=\"password\"\r\n              value={values.password}\r\n              onChange={handleInputChange}\r\n              error={errors.password}\r\n              autoComplete=\"off\"\r\n              placeholder=\"Nhập mật khẩu\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"clearfix\">\r\n        <div className=\"text-center no-gutters\">\r\n          <input type=\"hidden\" name=\"submitLogin\" />\r\n          <button className=\"btn btn-primary\" type=\"submit\">\r\n            Đăng nhập\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n"]},"metadata":{},"sourceType":"module"}